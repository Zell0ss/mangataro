---
import Layout from '../layouts/Layout.astro';
import ChapterItem from '../components/ChapterItem.astro';
import { api } from '../lib/api';

const chapters = await api.getUnreadChapters(50);
---

<Layout title="Updates - MangaTaro">
  <div class="max-w-4xl mx-auto">
    <div class="mb-8">
      <h1 class="text-3xl font-bold text-slate-100">Recent Updates</h1>
      <p class="text-slate-400 mt-2">
        {chapters.length} unread chapter{chapters.length !== 1 ? 's' : ''} across your collection
      </p>
    </div>

    {chapters.length === 0 ? (
      <div class="text-center py-16">
        <p class="text-slate-400 text-lg">No unread chapters</p>
        <p class="text-slate-500 text-sm mt-2">All caught up!</p>
      </div>
    ) : (
      <div class="space-y-3">
        {chapters.map((chapter) => (
          <ChapterItem chapter={chapter} />
        ))}
      </div>
    )}
  </div>
</Layout>
